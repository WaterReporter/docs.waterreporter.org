<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["Javascript"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img class="brand" src="/images/logo-WaterReporter.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="Javascript">Javascript</a>
        </div>

      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'></a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>The WaterReporter API is a RESTful data programming interface. You can send OPTIONS, GET, POST, PATCH, PUT, and DELETE requests. Remember that some of these methods are protected. In order to access them you&rsquo;ll need to be properly authenticated. Your user account will also need to have the appropriate permissions.</p>

<h2 id="your-first-request">Your First Request</h2>

<p>In the example below we will simple send a request to <code class="prettyprint">https://api.waterreporter.org/v1/</code>. If you&rsquo;ve sent a <code class="prettyprint">GET</code> request to this endpoint, you should receive a <code class="prettyprint">200</code> status code response with a Welcome message.</p>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/</td>
<td>None</td>
</tr>
</tbody></table>

<p>If you are unfamiliar with making HTTP requests please see our <a href="#making-requests">Making Requests</a> section below.</p>

<h4 id="response">Response</h4>

<h6 id="fields">Fields</h6>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>The status code response sent with the response</td>
</tr>
<tr>
<td>message</td>
<td>Feedback telling you what to do next</td>
</tr>
<tr>
<td>status</td>
<td>A human friendly version of the Status Code</td>
</tr>
</tbody></table>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Welcome to the WaterReporterAPI, to learn more about the api visit http://api.waterreporter.org/v1/docs"</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200 OK"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="making-requests">Making Requests</h2>

<p>We like to use a handy little desktop application called <a href="https://luckymarmot.com/paw?utm_medium=website&amp;utm_campaign=referral_marketing&amp;utm_source=http://github.com/WaterReporter/WaterReporter-API">PAW</a> to make our API development simpler. However, here are a few other ways to access the API.</p>

<h4 id="curl">cURL</h4>
<pre class="highlight json"><code><span class="err">curl</span><span class="w"> </span><span class="err">-X</span><span class="w"> </span><span class="s2">"GET"</span><span class="w"> </span><span class="s2">"https://api.waterreporter.org/v1/"</span><span class="w">
</span></code></pre>

<h4 id="python">Python</h4>
<pre class="highlight python"><code><span class="c"># Install the Python Requests library:</span>
<span class="c"># `pip install requests`</span>

<span class="kn">import</span> <span class="nn">requests</span>

<span class="k">def</span> <span class="nf">send_request</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">url</span><span class="o">=</span><span class="s">"https://api.waterreporter.org/v1/"</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Status Code : {status_code}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Response HTTP Response Body : {content}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'HTTP Request failed'</span><span class="p">)</span>
</code></pre>

<h4 id="jquery">jQuery</h4>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="s2">"https://api.waterreporter.org/v1/"</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"GET"</span><span class="p">,</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"HTTP Request Succeeded: "</span> <span class="o">+</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">errorThrown</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"HTTP Request Failed"</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">always</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="cm">/* ... */</span>
<span class="p">});</span>
</code></pre>

<h1 id="authentication">Authentication</h1>

<p>Authenticating with the WaterReporting API requires a User account. We will cover User registration below.</p>

<h2 id="new-user-registration">New User Registration</h2>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>POST</td>
<td>https://api.waterreporter.org/v1/user/register</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="request-data-json">Request Data (JSON)</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address the user wishes to register with</td>
</tr>
<tr>
<td>password</td>
<td>The password selected by the user</td>
</tr>
</tbody></table>

<h4 id="example-request">Example Request</h4>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="s2">"https://api.waterreporter.org/v1/user/register"</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">contentType</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"example@waterreporter.org"</span><span class="p">,</span>
        <span class="s2">"password"</span><span class="p">:</span> <span class="s2">"mypassword"</span>
    <span class="p">})</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"HTTP Request Succeeded: "</span> <span class="o">+</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">errorThrown</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"HTTP Request Failed"</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">always</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="cm">/* ... */</span>
<span class="p">});</span>
</code></pre>

<h2 id="remote-login">Remote Login</h2>

<h4 id="request-url">Request URL</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>POST</td>
<td>https://api.waterreporter.org/v1/auth/remote</td>
<td>None</td>
</tr>
</tbody></table>

<h4 id="request-parameters">Request Parameters</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Expected Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>&ldquo;token&rdquo;</td>
<td>The type of response you would like to get. <code class="prettyprint">token</code> should be your parameter value</td>
</tr>
<tr>
<td>client_id</td>
<td><a href="string:client_id">string:client_id</a></td>
<td>The generated Client ID within the system</td>
</tr>
<tr>
<td>redirect_uri</td>
<td><a href="string:redirect_uri">string:redirect_uri</a></td>
<td>The Redirect URI entered when the Client ID was created</td>
</tr>
<tr>
<td>scope</td>
<td>&ldquo;user&rdquo;</td>
<td>The scope of permissions we are attempting to access</td>
</tr>
<tr>
<td>state</td>
<td>&ldquo;json&rdquo;</td>
<td>The state we would like our response to be return in</td>
</tr>
</tbody></table>

<h4 id="request-data-json">Request Data (JSON)</h4>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>The email address the user registered with</td>
</tr>
<tr>
<td>password</td>
<td>The password the user registered with</td>
</tr>
</tbody></table>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="s2">"https://api.waterreporter.org/v1/oauth/remote"</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"response_type"</span><span class="p">:</span> <span class="s2">"token"</span><span class="p">,</span>
        <span class="s2">"client_id"</span><span class="p">:</span> <span class="s2">"QG92Aa2ejWqiYW43I08r6lhSyKVnK1gDN2xrrykU"</span><span class="p">,</span>
        <span class="s2">"redirect_uri"</span><span class="p">:</span> <span class="s2">"http://127.0.0.1:9000/authorize"</span><span class="p">,</span>
        <span class="s2">"scope"</span><span class="p">:</span> <span class="s2">"user"</span><span class="p">,</span>
        <span class="s2">"state"</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">contentType</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"example@waterreporter.org"</span><span class="p">,</span>
        <span class="s2">"password"</span><span class="p">:</span> <span class="s2">"mypassword"</span>
    <span class="p">})</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"HTTP Request Succeeded: "</span> <span class="o">+</span> <span class="nx">jqXHR</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">errorThrown</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"HTTP Request Failed"</span><span class="p">);</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">always</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="cm">/* ... */</span>
<span class="p">});</span>

</code></pre>

<h1 id="users">Users</h1>

<h2 id="user-feature-structure">User Feature Structure</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code class="prettyprint">integer</code></td>
<td>A system field containing unique identifier for interacting with this User</td>
</tr>
<tr>
<td>confirmed_at</td>
<td><code class="prettyprint">timestamp</code></td>
<td>A system field containing the timestamp on which this User was added to the WaterReporter API</td>
</tr>
<tr>
<td>is_active</td>
<td><code class="prettyprint">boolean</code></td>
<td>A system field containing a Boolean value to signify if the User <code class="prettyprint">is</code> or <code class="prettyprint">is not</code> active or &ldquo;allowed to login to the system&rdquo;</td>
</tr>
</tbody></table>

<h1 id="reports">Reports</h1>

<p>Reports are submitted by WaterKeepers, non-profit groups, and citizens. Individual reports hold user, image, comment, and geospatial information.</p>

<h2 id="report-feature-structure">Report Feature Structure</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code class="prettyprint">integer</code></td>
<td>A system field containing unique identifier for interacting with this Report</td>
</tr>
<tr>
<td>created</td>
<td><code class="prettyprint">timestamp</code></td>
<td>A system field containing the timestamp on which this Report was added to the WaterReporter API</td>
</tr>
<tr>
<td>updated</td>
<td><code class="prettyprint">timestamp</code></td>
<td>A system field containing the last timestamp this Report feature was modified in some way</td>
</tr>
<tr>
<td>status</td>
<td><code class="prettyprint">varchar</code></td>
<td>A system field containing the status of the Feature in the system. If not Authentication is provided, only <code class="prettyprint">public</code> Report objects will be returned in the repsonse. To expand the returned objects to include <code class="prettyprint">private</code>, <code class="prettyprint">draft</code>, and <code class="prettyprint">crowdsourced</code> Report objects you must submit a valid <code class="prettyprint">access_token</code> or <code class="prettyprint">Authorization</code> header with your request. The associated User account must also have appropriate permissions.</td>
</tr>
<tr>
<td>owner</td>
<td><code class="prettyprint">integer</code></td>
<td>A system field containing the unique identifier of the User, if any that originally submitted the Report</td>
</tr>
<tr>
<td>geometry</td>
<td><code class="prettyprint">geography</code></td>
<td>A valid GeoJSON GEOMETRY COLLECTION containing user submitted POINT data</td>
</tr>
<tr>
<td>description</td>
<td><code class="prettyprint">text</code></td>
<td>A field containing user submitted comments and hashtags</td>
</tr>
<tr>
<td>pollution</td>
<td><code class="prettyprint">boolean</code></td>
<td>A boolean indentifying whether or not the Report should be considered a Pollution report or not</td>
</tr>
</tbody></table>

<h2 id="report-feature-collection-get-many">Report Feature Collection [GET MANY]</h2>

<p>Anyone can request the GET MANY endpoint for Report features. The Report features return in the response vary depending on authentication and individual user permissions.</p>

<h4 id="user-permissions">User Permissions</h4>

<table><thead>
<tr>
<th>User</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>Anonymous</td>
<td>Access Report features with a <code class="prettyprint">status</code> of <code class="prettyprint">public</code></td>
</tr>
<tr>
<td>Citizen</td>
<td>Access Report features with a <code class="prettyprint">report.status</code> of <code class="prettyprint">public</code> and any Report feature where <code class="prettyprint">report.owner</code> matches their <code class="prettyprint">user.id</code></td>
</tr>
<tr>
<td>WaterKeeeper</td>
<td>Access all Report features regardless of <code class="prettyprint">report.status</code></td>
</tr>
</tbody></table>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/report</td>
<td>Optional</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="fields">Fields</h6>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num_results</td>
<td><code class="prettyprint">integer</code></td>
<td>The total number of Report objects returned from the original request</td>
</tr>
<tr>
<td>objects</td>
<td><code class="prettyprint">array</code></td>
<td>The individual Report features returned</td>
</tr>
<tr>
<td>page</td>
<td><code class="prettyprint">integer</code></td>
<td>The current page</td>
</tr>
<tr>
<td>total_pages</td>
<td><code class="prettyprint">integer</code></td>
<td>The total number of available pages containing Report features</td>
</tr>
</tbody></table>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"num_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"objects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w"> 
  </span><span class="nt">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="report-feature-get-single">Report Feature [GET SINGLE]</h2>

<p>Anyone can request the GET endpoint for a single Report feature. The Report feature return in the response operates in the same way the GET MANY request operates.</p>

<h4 id="user-permissions">User Permissions</h4>

<table><thead>
<tr>
<th>User</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>Anonymous</td>
<td>Access Report features with a <code class="prettyprint">status</code> of <code class="prettyprint">public</code></td>
</tr>
<tr>
<td>Citizen</td>
<td>Access Report features with a <code class="prettyprint">report.status</code> of <code class="prettyprint">public</code> or any Report feature where <code class="prettyprint">report.owner</code> matches their <code class="prettyprint">user.id</code></td>
</tr>
<tr>
<td>WaterKeeeper</td>
<td>Access all Report features regardless of <code class="prettyprint">report.status</code> or <code class="prettyprint">report.owner</code> field</td>
</tr>
</tbody></table>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/report/<a href="integer:id">integer:id</a></td>
<td>Optional</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> 
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"owner"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"pollution"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="report-feature-post">Report Feature [POST]</h2>

<h4 id="user-permissions">User Permissions</h4>

<p>Anyone may POST a report to this endpoint</p>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/report</td>
<td>Optional</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"comments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> 
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"owner"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"pollution"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="report-feature-patch">Report Feature [PATCH]</h2>

<p>Disabled under the current API version.</p>

<h2 id="report-feature-put">Report Feature [PUT]</h2>

<p>Disabled under the current API version.</p>

<h1 id="organizations">Organizations</h1>

<p>Organizations can be submitted by WaterKeepers, non-profit groups, and other admins.</p>

<h2 id="organization-feature-structure">Organization Feature Structure</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code class="prettyprint">integer</code></td>
<td>A system field containing unique identifier for interacting with this Organization</td>
</tr>
<tr>
<td>created</td>
<td><code class="prettyprint">timestamp</code></td>
<td>A system field containing the timestamp on which this Organization was added to the WaterReporter API</td>
</tr>
<tr>
<td>updated</td>
<td><code class="prettyprint">timestamp</code></td>
<td>A system field containing the last timestamp this Organization feature was modified in some way</td>
</tr>
<tr>
<td>status</td>
<td><code class="prettyprint">varchar</code></td>
<td>A system field containing the status of the Feature in the system.</td>
</tr>
<tr>
<td>geometry</td>
<td><code class="prettyprint">geography</code></td>
<td>A valid GeoJSON GEOMETRY COLLECTION containing user submitted POINT data</td>
</tr>
<tr>
<td>name</td>
<td><code class="prettyprint">text</code></td>
<td>A field containing the name of the Organization</td>
</tr>
<tr>
<td>phone</td>
<td><code class="prettyprint">text</code></td>
<td>A field containing the phone number of the Organization</td>
</tr>
<tr>
<td>email</td>
<td><code class="prettyprint">text</code></td>
<td>A field containing the email address of the Organization</td>
</tr>
<tr>
<td>website</td>
<td><code class="prettyprint">text</code></td>
<td>A field containing the website of the Organization</td>
</tr>
</tbody></table>

<h2 id="organization-feature-collection-get-many">Organization Feature Collection [GET MANY]</h2>

<p>Anyone can request the GET MANY endpoint for Organization features. The Organization features return in the response vary depending on authentication and individual user permissions.</p>

<h4 id="user-permissions">User Permissions</h4>

<table><thead>
<tr>
<th>User</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>Anonymous</td>
<td>Access Organization features with a <code class="prettyprint">status</code> of <code class="prettyprint">public</code></td>
</tr>
<tr>
<td>Citizen</td>
<td>Access Organization features with an <code class="prettyprint">organization.status</code> of <code class="prettyprint">public</code> and any Organization feature where <code class="prettyprint">organization.users</code> contains the current Users <code class="prettyprint">user</code> object</td>
</tr>
<tr>
<td>WaterKeeeper</td>
<td>Access all Organization features regardless of <code class="prettyprint">organization.status</code></td>
</tr>
</tbody></table>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/organization</td>
<td>Optional</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="fields">Fields</h6>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num_results</td>
<td><code class="prettyprint">integer</code></td>
<td>The total number of Organization objects returned from the original request</td>
</tr>
<tr>
<td>objects</td>
<td><code class="prettyprint">array</code></td>
<td>The individual Organization features returned</td>
</tr>
<tr>
<td>page</td>
<td><code class="prettyprint">integer</code></td>
<td>The current page</td>
</tr>
<tr>
<td>total_pages</td>
<td><code class="prettyprint">integer</code></td>
<td>The total number of available pages containing Organization features</td>
</tr>
</tbody></table>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"num_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"objects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w"> 
  </span><span class="nt">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="organization-feature-get-single">Organization Feature [GET SINGLE]</h2>

<p>Anyone can request the GET endpoint for a single Organization feature. The Organization feature return in the response operates in the same way the GET MANY request operates.</p>

<h4 id="user-permissions">User Permissions</h4>

<table><thead>
<tr>
<th>User</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>Anonymous</td>
<td>Access Organization features with a <code class="prettyprint">status</code> of <code class="prettyprint">public</code></td>
</tr>
<tr>
<td>Citizen</td>
<td>Access Organization features with an <code class="prettyprint">organization.status</code> of <code class="prettyprint">public</code> and any Organization feature where <code class="prettyprint">organization.users</code> contains the current Users <code class="prettyprint">user</code> object</td>
</tr>
<tr>
<td>WaterKeeeper</td>
<td>Access all Organization features regardless of <code class="prettyprint">organization.status</code></td>
</tr>
</tbody></table>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/organization/<a href="integer:id">integer:id</a></td>
<td>Optional</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@waterreporter.org"</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
    </span><span class="err">}</span><span class="w">
  </span><span class="p">],</span><span class="w"> 
  </span><span class="nt">"website"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="organization-feature-post">Organization Feature [POST]</h2>

<h4 id="user-permissions">User Permissions</h4>

<p>Only Users with the <code class="prettyprint">admin</code> role may create new Organizations within WaterReporter.</p>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/organization</td>
<td>Required</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@waterreporter.org"</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
    </span><span class="err">}</span><span class="w">
  </span><span class="p">],</span><span class="w"> 
  </span><span class="nt">"website"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="report-feature-patch">Report Feature [PATCH]</h2>

<h4 id="user-permissions">User Permissions</h4>

<p>Only Users with the <code class="prettyprint">admin</code> role may create new Organizations within WaterReporter and are listed in the <code class="prettyprint">organization.users</code> array may request the PATCH endpoint.</p>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/organization/<a href="integer:id">integer:id</a></td>
<td>Required</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@waterreporter.org"</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
    </span><span class="err">}</span><span class="w">
  </span><span class="p">],</span><span class="w"> 
  </span><span class="nt">"website"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="report-feature-put">Report Feature [PUT]</h2>

<h4 id="user-permissions">User Permissions</h4>

<p>Only Users with the <code class="prettyprint">admin</code> role may create new Organizations within WaterReporter and are listed in the <code class="prettyprint">organization.users</code> array may request the PATCH endpoint.</p>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/organization/<a href="integer:id">integer:id</a></td>
<td>Required</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@waterreporter.org"</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> 
    </span><span class="err">}</span><span class="w">
  </span><span class="p">],</span><span class="w"> 
  </span><span class="nt">"website"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h1 id="comments">Comments</h1>

<p>Comments can be submitted by WaterKeepers, non-profit groups, and citizens.</p>

<h2 id="comment-feature-structure">Comment Feature Structure</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><code class="prettyprint">integer</code></td>
<td>A system field containing unique identifier for interacting with this Comment</td>
</tr>
<tr>
<td>created</td>
<td><code class="prettyprint">timestamp</code></td>
<td>A system field containing the timestamp on which this Comment was added to the WaterReporter API</td>
</tr>
<tr>
<td>updated</td>
<td><code class="prettyprint">timestamp</code></td>
<td>A system field containing the last timestamp this Comment feature was modified in some way</td>
</tr>
<tr>
<td>status</td>
<td><code class="prettyprint">varchar</code></td>
<td>A system field containing the status of the Feature in the system.</td>
</tr>
<tr>
<td>geometry</td>
<td><code class="prettyprint">geography</code></td>
<td>A valid GeoJSON GEOMETRY COLLECTION containing user submitted POINT data</td>
</tr>
<tr>
<td>owner</td>
<td><code class="prettyprint">integer</code></td>
<td>A system field containing the unique identifier of the User, if any that originally submitted the Report</td>
</tr>
<tr>
<td>body</td>
<td><code class="prettyprint">text</code></td>
<td>A field containing the actual comment</td>
</tr>
</tbody></table>

<h2 id="comment-feature-collection-get-many">Comment Feature Collection [GET MANY]</h2>

<p>Anyone can request the GET MANY endpoint for Comment features. The Comment features return in the response vary depending on authentication and individual user permissions.</p>

<h4 id="user-permissions">User Permissions</h4>

<table><thead>
<tr>
<th>User</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>Anonymous</td>
<td>Access Comment features with a <code class="prettyprint">status</code> of <code class="prettyprint">public</code></td>
</tr>
<tr>
<td>Citizen</td>
<td>Access Comment features with an <code class="prettyprint">Comment.status</code> of <code class="prettyprint">public</code> and any Comment feature where <code class="prettyprint">Comment.owner</code> contains the current Users <code class="prettyprint">user.id</code></td>
</tr>
<tr>
<td>WaterKeeeper</td>
<td>Access all Comment features regardless of <code class="prettyprint">Comment.status</code></td>
</tr>
</tbody></table>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/comment</td>
<td>Optional</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="fields">Fields</h6>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>num_results</td>
<td><code class="prettyprint">integer</code></td>
<td>The total number of Comment objects returned from the original request</td>
</tr>
<tr>
<td>objects</td>
<td><code class="prettyprint">array</code></td>
<td>The individual Comment features returned</td>
</tr>
<tr>
<td>page</td>
<td><code class="prettyprint">integer</code></td>
<td>The current page</td>
</tr>
<tr>
<td>total_pages</td>
<td><code class="prettyprint">integer</code></td>
<td>The total number of available pages containing Comment features</td>
</tr>
</tbody></table>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"num_results"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"objects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w"> 
  </span><span class="nt">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="comment-feature-get-single">Comment Feature [GET SINGLE]</h2>

<p>Anyone can request the GET endpoint for a single Comment feature. The Comment feature return in the response operates in the same way the GET MANY request operates.</p>

<h4 id="user-permissions">User Permissions</h4>

<table><thead>
<tr>
<th>User</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>Anonymous</td>
<td>Access Comment features with a <code class="prettyprint">status</code> of <code class="prettyprint">public</code></td>
</tr>
<tr>
<td>Citizen</td>
<td>Access Comment features with an <code class="prettyprint">Comment.status</code> of <code class="prettyprint">public</code> and any Comment feature where <code class="prettyprint">Comment.owner</code> contains the current Users <code class="prettyprint">user.id</code></td>
</tr>
<tr>
<td>WaterKeeeper</td>
<td>Access all Comment features regardless of <code class="prettyprint">Comment.status</code></td>
</tr>
</tbody></table>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/comment/<a href="integer:id">integer:id</a></td>
<td>Optional</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"owner"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="comment-feature-post">Comment Feature [POST]</h2>

<h4 id="user-permissions">User Permissions</h4>

<table><thead>
<tr>
<th>User</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>Anonymous</td>
<td>403 Forbidden</td>
</tr>
<tr>
<td>Citizen</td>
<td>Citizen&rsquo;s may POST to the Comment endpoint and their <code class="prettyprint">user.id</code> will be added as the <code class="prettyprint">comment.owner</code></td>
</tr>
<tr>
<td>WaterKeeeper</td>
<td>Admin&rsquo;s may POST to the Comment endpoint and their <code class="prettyprint">user.id</code> will be added as the <code class="prettyprint">comment.owner</code></td>
</tr>
</tbody></table>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/comment/<a href="integer:id">integer:id</a></td>
<td>Required</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"owner"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="report-feature-patch">Report Feature [PATCH]</h2>

<h4 id="user-permissions">User Permissions</h4>

<table><thead>
<tr>
<th>User</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>Anonymous</td>
<td>403 Forbidden</td>
</tr>
<tr>
<td>Citizen</td>
<td>Update the Comment feature if current User&rsquo;s <code class="prettyprint">user.id</code> field is equal to the <code class="prettyprint">comment.owner</code> field</td>
</tr>
<tr>
<td>WaterKeeeper</td>
<td>Update any Comment</td>
</tr>
</tbody></table>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/comment/<a href="integer:id">integer:id</a></td>
<td>Required</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"owner"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="report-feature-put">Report Feature [PUT]</h2>

<h4 id="user-permissions">User Permissions</h4>

<table><thead>
<tr>
<th>User</th>
<th>Response</th>
</tr>
</thead><tbody>
<tr>
<td>Anonymous</td>
<td>403 Forbidden</td>
</tr>
<tr>
<td>Citizen</td>
<td>Update the Comment feature if current User&rsquo;s <code class="prettyprint">user.id</code> field is equal to the <code class="prettyprint">comment.owner</code> field</td>
</tr>
<tr>
<td>WaterKeeeper</td>
<td>Update any Comment</td>
</tr>
</tbody></table>

<h4 id="request">Request</h4>

<table><thead>
<tr>
<th>Method</th>
<th>URL</th>
<th>Authentication</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>https://api.waterreporter.org/v1/comment/<a href="integer:id">integer:id</a></td>
<td>Required</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>

<h6 id="body">Body</h6>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"body"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="nt">"owner"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="errors">Errors</h1>

<p>The WaterReporter API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The report requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified report could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a report with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The report requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many report! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="Javascript">Javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
